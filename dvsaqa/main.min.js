(function(){var Qt=Object.create;var vt=Object.defineProperty;var Ut=Object.getOwnPropertyDescriptor;var Kt=Object.getOwnPropertyNames;var Yt=Object.getPrototypeOf,qt=Object.prototype.hasOwnProperty;var Ft=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}};var Xt=function(e,t,r,n){if(t&&typeof t=="object"||typeof t=="function")for(var o=Kt(t),i=0,c=o.length,s;i<c;i++)s=o[i],!qt.call(e,s)&&s!==r&&vt(e,s,{get:function(a){return t[a]}.bind(null,s),enumerable:!(n=Ut(t,s))||n.enumerable});return e};var Gt=function(e,t,r){return r=e!=null?Qt(Yt(e)):{},Xt(t||!e||!e.__esModule?vt(r,"default",{value:e,enumerable:!0}):r,e)};var mt=Ft(function(Fe,ot){"use strict";var ie=Object.prototype.hasOwnProperty,S="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(S=!1));function ce(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function At(e,t,r,n,o){if(typeof r!="function")throw new TypeError("The listener must be a function");var i=new ce(r,n||e,o),c=S?S+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],i]:e._events[c].push(i):(e._events[c]=i,e._eventsCount++),e}function U(e,t){--e._eventsCount===0?e._events=new j:delete e._events[t]}function T(){this._events=new j,this._eventsCount=0}T.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)ie.call(r,n)&&t.push(S?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};T.prototype.listeners=function(t){var r=S?S+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,c=new Array(i);o<i;o++)c[o]=n[o].fn;return c};T.prototype.listenerCount=function(t){var r=S?S+t:t,n=this._events[r];return n?n.fn?1:n.length:0};T.prototype.emit=function(t,r,n,o,i,c){var s=S?S+t:t;if(!this._events[s])return!1;var a=this._events[s],l=arguments.length,C,v;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,r),!0;case 3:return a.fn.call(a.context,r,n),!0;case 4:return a.fn.call(a.context,r,n,o),!0;case 5:return a.fn.call(a.context,r,n,o,i),!0;case 6:return a.fn.call(a.context,r,n,o,i,c),!0}for(v=1,C=new Array(l-1);v<l;v++)C[v-1]=arguments[v];a.fn.apply(a.context,C)}else{var O=a.length,w;for(v=0;v<O;v++)switch(a[v].once&&this.removeListener(t,a[v].fn,void 0,!0),l){case 1:a[v].fn.call(a[v].context);break;case 2:a[v].fn.call(a[v].context,r);break;case 3:a[v].fn.call(a[v].context,r,n);break;case 4:a[v].fn.call(a[v].context,r,n,o);break;default:if(!C)for(w=1,C=new Array(l-1);w<l;w++)C[w-1]=arguments[w];a[v].fn.apply(a[v].context,C)}}return!0};T.prototype.on=function(t,r,n){return At(this,t,r,n,!1)};T.prototype.once=function(t,r,n){return At(this,t,r,n,!0)};T.prototype.removeListener=function(t,r,n,o){var i=S?S+t:t;if(!this._events[i])return this;if(!r)return U(this,i),this;var c=this._events[i];if(c.fn)c.fn===r&&(!o||c.once)&&(!n||c.context===n)&&U(this,i);else{for(var s=0,a=[],l=c.length;s<l;s++)(c[s].fn!==r||o&&!c[s].once||n&&c[s].context!==n)&&a.push(c[s]);a.length?this._events[i]=a.length===1?a[0]:a:U(this,i)}return this};T.prototype.removeAllListeners=function(t){var r;return t?(r=S?S+t:t,this._events[r]&&U(this,r)):(this._events=new j,this._eventsCount=0),this};T.prototype.off=T.prototype.removeListener;T.prototype.addListener=T.prototype.on;T.prefixed=S;T.EventEmitter=T;typeof ot!="undefined"&&(ot.exports=T)});var pt=["C","B","D","C","C","C","C","B","C","B","A","A","B","D","B","A","A","B","B","B","C","B","B","C","D","D","D","B","D","B","D","C","C","A","D","B","D","D","A","C","D","D","B","B","A","A","D","B","A","B","A","A","C","A","D","D","D","A","B","C","B","A","B","C","A","C","A","C","C","D","B","D","B","C","A","A","B","A","A","B","B","C","B","D","D","C","C","A","C","C","C","B","D","C","D","D","D","A","C","D","B","B","D","B","D","A","A","B","C","D","A","B","C","D","A","B","A","B","B","B","D","D","B","C","A","D","A","B","D","D","D","B","B","B","D","B","A","C","D","A","B","D","B","B","B","D","C","B","D","D","B","A","D","C","A","A","B","D","C","C","A","A","D","C","B","B","B","A","D","B","D","C","A","D","C","B","A","B","D","B","C","D","D","B","A","D","B","C","D","D","C","D","B","B","C","A","A","A","D","D","D","D","A","B","D","B","D","C","C","B","B","C","A","C","A","D","A","B","A","B","D","C","B","B","D","A","C","A","C","B","B","C","B","B","C","C","B","D","C","D","D","A","D","B","D","A","D","A","A","C","B","C","B","B","B","C","D","C","C","C","A","D","C","C","C","D","B","A","A","A","C","C","B","A","C","D","B","B","C","A","D","D","C","B","C","B","A","A","A","C","A","D","B","C","C","A","B","B","B","B","A","D","A","B","C","B","B","B","C","D","C","C","A","B","A","A","B","B","C","C","C","A","C","D","D","C","C","D","B","D","C","B","B","C","D","A","A","A","D","D","D","A","B","D","D","A","C","B","A","B","D","A","B","A","D","D","C","C","B","D","D","C","D","A","D","D","B","D","D","C","C","C","A","D","C","D","D","C","C","D","A","D","C","C","D","D","B","A","C","D","C","C","A","D","A","A","B","B","A","A","C","B","D","A","D","D","D","A","C","B","B","D","B","B","D","C","C","B","C","A","C","C","B","B","D","D","B","B","B","C","D","A","D","C","D","A","A","B","B","D","B","B","A","C","B","D","B","D","D","A","D","A","A","A","B","B","C","B","D","B","D","D","A","A","D","D","A","C","C","D","C","D","D","C","C","C","B","B","D","D","B","C","C","D","A","A","C","B","A","D","B","B","D","B","A","C","B","A","C","A","C","D","B","D","D","D","C","C","C","D","D","A","C","A","A","A","C","B","D","B","D","C","B","D","D","D","D","A","C","C","C","A","C","C","C","C","C","C","B","B","A","B","D","C","A","A","D","B","A","A","C","B","B","D","A","A","B","D","D","B","D","D","C","D","C","D","A","C","D","C","B","D","B","D","B","D","C","D","A","B","B","D","A","D","C","B","C","D","A","B","A","C","D","B","A","C","D","D","A","B","A","B","A","D","A","D","C","A","C","C","D","B","B","A","C","A","B","D","B","A","B","A","B","A","A","D","A","D","D","B","C","B","B","B","C","D","D","C","D","D","D","D","D","C","C","D","A","A","C","B","A","D","A","A","D","B","D","D","A","A","A","D","D","A","A","A","D","D","A","A","B","A","D","B","D","D","D","A","C","B","D","C","B","A","B","B","C","C","A","C","B","C","D","D","C","C","D","A","D","D","B","A","A","A","B","B","A","D","A","C","A","B","C","B","D","A","A","C","D","A","C","B","D","B","B","C","C","D","C","B","C","D","B","A","A","C","D","A","C","C","B","A","C","A","A","D","D","B","A","D","C","D","C","B","C","C","A","B","D","B","B","A","D","A","B","B","D","C","B","A","B","C","A","B","A","C","B","B","A","C","A","B","B","B","A","C","A","C","B","D","C","B","C","A","C","A","C","B","C","A","B","A","A","C","D","B","B","B","B","D","A","B","A","A","C","C","B","B","B","B","B","A","C","B","B","A","C","C","A","A","C","D","C","A","A","B","B","C","C","B","D","D","D","B","C","A","B","A","D","B","B","D","B","C","B","C","D","B","D","A","B","A","C","B","D","D","A","A","A","C","B","D","B","B","D","B","D","B","D","B","A","C","B","D","A","A","A","C","A","B","A","D","A","C","C","B","A","B","B","D","C","D","D","C","B","D","B","B","B","D","B","B","B","A","B","C","B","C","C","C","A","B","A","B","C","A","A","B","A","D","C","D","D","D","A","B","D","A","D","C","B","A","B","B","C","D","A","D","D","D","A","C","A","D","B","D","A","A","A","A"];function R(e){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(e)}function $t(e,t,r){return t=Jt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e){var t=Zt(e,"string");return R(t)==="symbol"?t:String(t)}function Zt(e,t){if(R(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e){return ne(e)||re(e)||ee(e)||te()}function te(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e,t){if(e){if(typeof e=="string")return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(e,t)}}function re(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ne(e){if(Array.isArray(e))return nt(e)}function nt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g={AA:{choices:["A","B","C","D"],contents:oe(pt,[{Alertness:[1,37]},{Attitude:[38,87]},{"Safety and your vehicle":[88,199]},{"Safety margins":[200,258]},{"Hazard Awareness":[259,354]},{"Vulnerable road users":[355,435]},{"Other types of vehicle":[436,462]},{"Vehicle handling":[463,524]},{"Moterway rules":[525,591]},{"Rules of the road":[592,666]},{"Road and traffic signs":[667,822]},{Documents:[823,866]},{"Incidents, accidents and emergencies":[867,945]},{"Vehicle loading":[946,960]}])}};function oe(e,t){var r={};return t.forEach(function(n){var o=Object.keys(n)[0],i=Object.values(n)[0],c=i[0],s=i[1],a=zt(Array(s-c+1).keys()).map(function(C){return C+c}),l=a.map(function(C){var v=Number(C)-1;return $t({},C,e[v])});r[o]=l}),r}var Ct=Gt(mt(),1);var dt=Ct.default;var d=d||new dt;var x={SELECT:"CONTENTS_EVENTS.SELECT"},k={SUBMIT:"QUESTIONS_EVENTS.SUBMIT",CLICK:"QUESTIONS_EVENTS.CLICK"},H={CLICK_INCORRECT:"BOTTOMBAR_EVENTS.CLICK_INCORRECT",CLICK_CORRECT:"BOTTOMBAR_EVENTS.CLICK_CORRECT",CLICK_TOTAL:"BOTTOMBAR_EVENTS.CLICK_TOTAL"},N={OPEN:"HISTORY_EVENTS.OPEN",LOAD:"HISTORY_EVENTS.LOAD"},it={OPEN:"POPUP_EVENTS.OPEN",CLOSE:"POPUP_EVENTS.CLOSE"};var A={activeContent:"",answers:{},setAnswer:function(t,r,n){this.answers[t][r]=n,this.storeHistory()},clearAnswers:function(t){this.answers[t]={}},storeTime:function(t){var r=JSON.parse(localStorage.getItem("time"))||{};r[this.activeContent]={totalSeconds:t},localStorage.setItem("time",JSON.stringify(r))},storeHistory:function(){var t=JSON.stringify(this.answers);localStorage.setItem("history",t)},mergeHistoryToAnswer:function(t){this.answers[t]=this.getHistory(t)},getHistory:function(t){var r=JSON.parse(localStorage.getItem("history"));return r?t?r[t]:r:{}},getActiveAnswers:function(){return this.answers[this.activeContent]},getActiveHistory:function(){var t;return(t=this.getHistory(this.activeContent))!==null&&t!==void 0?t:{}},getCorrectAnswer:function(t,r){var n=g.AA.contents[r!=null?r:this.activeContent][t];return n},getStorageTime:function(){var t,r=JSON.parse(localStorage.getItem("time"));return(t=r[this.activeContent])!==null&&t!==void 0?t:0},isCorrectAnswer:function(t,r,n){var o=n!=null?n:this.activeContent,i=g.AA.contents[o].filter(function(a){return a[t]})[0][t],c=this.getHistory(o),s=r?c[t]:this.answers[o][t];return Boolean(i===s)}};function ct(e){return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(e)}var K=function(t){return t===void 0||t==="auto"||t==="instant"||t==="smooth"};function yt(e,t){this.scrollLeft=e,this.scrollTop=t}var at=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"cannot convert to dictionary.";return"Failed to execute '".concat(t,"' on '").concat(r,"': ").concat(n)},Y=function(t,r,n){return at(t,r,"The provided value '".concat(n,"' is not a valid enum value of type ScrollBehavior."))},st=function(t,r,n){var o,i="__SEAMLESS.BACKUP$".concat(r);return!t[i]&&t[r]&&!(!((o=t[r])===null||o===void 0)&&o.__isPolyfill)&&(t[i]=t[r]),t[i]||n},Bt=function(t){var r=ct(t);return t!==null&&(r==="object"||r==="function")};var W=function(t){return t.ownerDocument.scrollingElement||t.ownerDocument.documentElement};function ht(e){if(typeof Event=="function")return new Event("scrollend",{bubbles:e,cancelable:!1});var t=document.createEvent("Event");return t.initEvent("scrollend",e,!1),t}var ae=function(t){return .5*(1-Math.cos(Math.PI*t))};function q(){var e,t;return!((e=window.performance)===null||e===void 0)&&e.now?t=function(){return window.performance.now()}:t=function(){return window.Date.now()},q=t,t()}var se=500,Dt=function e(t){var r=q(),n=(r-t.timeStamp)/(t.duration||se);if(n>1){t.method(t.targetX,t.targetY),t.callback();return}var o=(t.timingFunc||ae)(n),i=t.startX+(t.targetX-t.startX)*o,c=t.startY+(t.targetY-t.startY)*o;t.method(i,c),t.rafId=window.requestAnimationFrame(function(){e(t)})};function le(e,t){return pe(e)||ve(e,t)||fe(e,t)||ue()}function ue(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(e,t){if(e){if(typeof e=="string")return bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bt(e,t)}}function bt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,i,c,s=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);a=!0);}catch(C){l=!0,o=C}finally{try{if(!a&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return s}}function pe(e){if(Array.isArray(e))return e}var F=function(t){return isFinite(t)?Number(t):0},Ae=function(t){var r;return(r=t.isConnected)!==null&&r!==void 0?r:!t.ownerDocument||!(t.ownerDocument.compareDocumentPosition(t)&1)},me=function(t,r,n){var o,i;if(Ae(t)){var c=t.scrollLeft,s=t.scrollTop,a=F((o=r.left)!==null&&o!==void 0?o:c),l=F((i=r.top)!==null&&i!==void 0?i:s);if(!(a===c&&l===s)){var C=st(HTMLElement.prototype,"scroll",yt),v=st(Object.getPrototypeOf(t),"scroll",C).bind(t);if(r.behavior!=="smooth"){v(a,l);return}var O=function(){window.removeEventListener("wheel",f),window.removeEventListener("touchmove",f)},w=function(){O();var m=t.nodeType===9;t.dispatchEvent(ht(m))},_=Object.assign(Object.assign({},n),{timeStamp:q(),startX:c,startY:s,targetX:a,targetY:l,rafId:0,method:v,callback:w}),f=function(){window.cancelAnimationFrame(_.rafId),O()};window.addEventListener("wheel",f,{passive:!0,once:!0}),window.addEventListener("touchmove",f,{passive:!0,once:!0}),Dt(_)}}},Ce=function(t){return t.window===t},de=function(t){return function(r,n,o){var i=Ce(r)?[W(r.document.documentElement),"Window"]:[r,"Element"],c=le(i,2),s=c[0],a=c[1],l=n!=null?n:{};if(!Bt(l))throw new TypeError(at(t,a));if(!K(l.behavior))throw new TypeError(Y(t,a,l.behavior));t==="scrollBy"&&(l.left=F(l.left)+s.scrollLeft,l.top=F(l.top)+s.scrollTop),me(s,l,o)}},ye=de("scroll");var wt=ye;function M(e,t){return be(e)||De(e,t)||he(e,t)||Be()}function Be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e,t){if(e){if(typeof e=="string")return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Et(e,t)}}function Et(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function De(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,i,c,s=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);a=!0);}catch(C){l=!0,o=C}finally{try{if(!a&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return s}}function be(e){if(Array.isArray(e))return e}var Ot=function(t){switch(t){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},_t=function(t,r,n,o){var i=0;switch(r||(i^=2),t){case 0:i=i>>1|(i&1)<<1;var c=[o,n];n=c[0],o=c[1];break;case 1:case 3:i^=1;break;case 4:i^=2;break}return[i,n,o]},we=function(t){var r=_t(Ot(t.writingMode),t.direction!=="rtl",void 0,void 0)[0];return(r&1)===1},Ee=function(t,r,n){var o=_t(r,n,t.block||"start",t.inline||"nearest"),i=M(o,3),c=i[0],s=i[1],a=i[2];return[s,a].map(function(l,C){switch(l){case"center":return 1;case"nearest":return 0;default:{var v=c>>C&1;return l==="start"==!v?2:3}}})},Tt=function(t,r,n,o,i,c,s){return t!==0?t:i<r&&c>n||i>r&&c<n?null:i<=r&&s<=o||c>=n&&s>=o?2:c>n&&s<o||i<r&&s>o?3:null},gt=function(t){return t!=="visible"&&t!=="clip"},Te=function(t){var r;try{return((r=t.ownerDocument.defaultView)===null||r===void 0?void 0:r.frameElement)||null}catch(n){return null}},ge=function(t,r){return t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth?gt(r.overflowY)||gt(r.overflowX)||t===W(t):!1},St=function(t){var r=t.parentNode,n=t.parentElement;if(n===null&&r!==null){if(r.nodeType===11)return r.host;if(r.nodeType===9)return Te(t)}return n},lt=function(t,r,n){return t<r?r:t>n?n:t},Se=function(t){return["scroll-margin","scroll-snap-margin"].filter(function(r){return r in t.documentElement.style})[0]},Oe=function(t,r,n){var o=r.top,i=r.right,c=r.bottom,s=r.left,a=Se(t.ownerDocument);if(!a)return[o,i,c,s];var l=function(v){var O=n.getPropertyValue("".concat(a,"-").concat(v));return parseInt(O,10)||0};return[o-l("top"),i+l("right"),c+l("bottom"),s-l("left")]},X=function(t,r,n){switch(t){case 1:return(r+n)/2;case 3:return n;case 2:case 0:return r}},_e=function(t,r){var n,o,i,c=(n=t.ownerDocument.defaultView)===null||n===void 0?void 0:n.visualViewport,s=t===W(t)?[0,0,(o=c==null?void 0:c.width)!==null&&o!==void 0?o:t.clientWidth,(i=c==null?void 0:c.height)!==null&&i!==void 0?i:t.clientHeight]:[r.left,r.top,t.clientWidth,t.clientHeight],a=M(s,4),l=a[0],C=a[1],v=a[2],O=a[3],w=l+t.clientLeft,_=C+t.clientTop,f=w+v,p=_+O;return[_,f,p,w]},Le=function(t,r){var n=[],o=t.ownerDocument,i=o.defaultView;if(!i)return n;for(var c=window.getComputedStyle(t),s=c.direction!=="rtl",a=Ot(c.writingMode||c.getPropertyValue("-webkit-writing-mode")||c.getPropertyValue("-ms-writing-mode")),l=Ee(r,a,s),C=M(l,2),v=C[0],O=C[1],w=Oe(t,t.getBoundingClientRect(),c),_=M(w,4),f=_[0],p=_[1],m=_[2],b=_[3],u=St(t);u!==null;u=St(u)){if(o!==u.ownerDocument){if(o=u.ownerDocument,i=o.defaultView,!i)break;var y=u.getBoundingClientRect(),B=y.left,D=y.top;f+=D,p+=B,m+=D,b+=B}var E=i.getComputedStyle(u);if(E.position==="fixed")break;if(ge(u,E)){var L=u.getBoundingClientRect(),I=_e(u,L),h=M(I,4),P=h[0],$=h[1],J=h[2],Z=h[3],z=Tt(v,Z,$,u.clientWidth,b,p,p-b),tt=Tt(O,P,J,u.clientHeight,f,m,m-f),ft=z===null?0:X(z,b,p)-X(z,Z,$),Wt=tt===null?0:X(tt,f,m)-X(tt,P,J),et=we(E)?lt(ft,-u.scrollWidth+u.clientWidth-u.scrollLeft,-u.scrollLeft):lt(ft,-u.scrollLeft,u.scrollWidth-u.clientWidth-u.scrollLeft),rt=lt(Wt,-u.scrollTop,u.scrollHeight-u.clientHeight-u.scrollTop);n.push([u,{left:u.scrollLeft+et,top:u.scrollTop+rt,behavior:r.behavior}]),f=Math.max(f-rt,P),p=Math.min(p-et,$),m=Math.min(m-rt,J),b=Math.max(b-et,Z)}}return n},Lt=function(t,r,n){var o=r||{};if(!K(o.behavior))throw new TypeError(Y("scrollIntoView","Element",o.behavior));var i=Le(t,o);i.forEach(function(c){var s=M(c,2),a=s[0],l=s[1];wt(a,l,n)})};function It(){var e=document.getElementById("questions"),t,r;d.on(x.SELECT,C),d.on(H.CLICK_INCORRECT,v),d.on(H.CLICK_CORRECT,O),d.on(H.CLICK_TOTAL,w),d.on(N.LOAD,_);function n(f,p,m,b){var u=document.createElement("div"),y=document.createElement("p"),B=document.createElement("input"),D="";return u.setAttribute("class","question-items"),y.setAttribute("class","question-id"),y.innerHTML="[ ".concat(f," ]"),u.appendChild(y),u.onclick=function(){c(u),d.emit(k.CLICK)},B.setAttribute("type","submit"),B.setAttribute("class","submit"),B.setAttribute("value","Submit"),p.forEach(function(E){var L=document.createElement("div"),I=document.createElement("label"),h=document.createElement("input");L.setAttribute("class","input-radio-div"),b&&A.getActiveHistory()[f]===E&&(h.checked=!0,o(u,E===m),B.classList.add("submit-allowed")),h.setAttribute("class","radio-btn"),h.setAttribute("type","radio"),h.setAttribute("name","question_"+f),h.setAttribute("value",E),I.setAttribute("class","radio-label"),I.innerHTML=E,L.appendChild(h),L.appendChild(I),u.appendChild(L),h.onchange=function(){D=E,B.classList.add("submit-allowed")}}),u.appendChild(B),B.onclick=function(){o(u,m===D),A.setAnswer(A.activeContent,f,D),d.emit(k.SUBMIT)},u}function o(f,p){p?(f.classList.remove("question-items-incorrect"),f.classList.add("question-items-correct")):(f.classList.remove("question-items-correct"),f.classList.add("question-items-incorrect"))}function i(f,p,m){var b=[];return e.innerHTML="",p.forEach(function(u){var y=Object.keys(u)[0],B=Object.values(u)[0],D=n(y,f,B,m);e.appendChild(D)}),b}function c(f){Object.values(e.children).forEach(function(p){p.classList.remove("question-items-active")}),f.classList.add("question-items-active")}function s(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0)}function a(f){var p=e.children[f];Lt(p,{behavior:"smooth",block:"center"}),c(p)}function l(f){var p=A.getActiveAnswers(),m=f==="correct"?r:t;if(p){var b=[];for(var u in p)f==="correct"?A.isCorrectAnswer(u)&&b.push(u):A.isCorrectAnswer(u)||b.push(u);if(b.length){for(var y in p){var B=A.isCorrectAnswer(y);if(f==="correct"){if(B){if(!m){m=y;break}var D=b.indexOf(m)+1;D=D>b.length-1?0:D,m=b[D];break}}else if(!B){if(!m){m=y;break}var E=b.indexOf(m)+1;E=E>b.length-1?0:E,m=b[E];break}}f==="correct"?r=m:t=m;var L;for(var I in e.children){var h=e.children[I],P=h.children[0].innerHTML;if(P==="[ ".concat(m," ]")){L=Number(I);break}}a(L)}}}function C(f){var p=g.AA.choices,m=g.AA.contents[f];i(p,m),A.clearAnswers(f),s()}function v(){l("incorrect")}function O(){l("correct")}function w(){var f=A.getActiveAnswers(),p=g.AA.contents[A.activeContent];for(var m in p)if(f[Number(m)+1]===void 0){a(Number(m));break}}function _(){var f=g.AA.choices,p=g.AA.contents[A.activeContent];A.mergeHistoryToAnswer(A.activeContent),i(f,p,!0),s()}}function Pt(){var e=document.getElementById("contents");t();function t(){var o=Object.keys(g.AA.contents);e.innerHTML=n(o);var i=document.getElementById("contents-list");A.activeContent=i.options[i.selectedIndex].value,d.emit(x.SELECT,A.activeContent),i.onchange=function(){A.activeContent=i.options[i.selectedIndex].value,d.emit(x.SELECT,A.activeContent)}}function r(o){return"<option value='".concat(o,"'>").concat(o,"</option>")}function n(o){var i="";return o.forEach(function(c){i+="\n"+r(c)}),"\n			<select id='contents-list'>\n				".concat(i,"\n			</select>\n		")}}function Nt(){var e=0;d.on(k.SUBMIT,n);function t(){clearTimeout(e),e=0}function r(){e||(e=setTimeout(function(){var o=g.AA.contents[A.activeContent],i=A.getActiveAnswers();if(Object.keys(o).length!==Object.keys(i).length){t();return}var c=!Object.keys(i).map(function(s){return A.isCorrectAnswer(s)}).includes(!1);c&&alert("All answers are correct. Well done!"),t()},800))}function n(){r()}}function kt(){var e=document.getElementById("bottom-bar"),t=document.createElement("button"),r=document.createElement("button"),n=document.createElement("button"),o=document.createElement("button"),i=0,c=0,s=!1,a=!1;d.on(x.SELECT,p),d.on(k.SUBMIT,m),d.on(k.CLICK,b),d.on(N.LOAD,u),window.addEventListener("blur",function(){s||(a=!0,s=!0),isWindowFocus=!1}),window.addEventListener("focus",function(){s=a?!1:s,isWindowFocus=!0,a=!1});function l(){if(!s){++c;var y=Math.floor(c/3600),B=Math.floor((c-y*3600)/60),D=c-(y*3600+B*60);y<10&&(y="0"+y),B<10&&(B="0"+B),D<10&&(D="0"+D),o.innerHTML="Time: ".concat(y,":").concat(B,":").concat(D)}}function C(y){var B=g.AA.contents[y].length,D=A.answers[y],E=D?Object.keys(D).map(function(h){return A.isCorrectAnswer(h)}).map(function(h){return Number(h)}).reduce(function(h,P){return h+P},0):0,L=D?Object.keys(D).length:0,I=D?Object.keys(D).map(function(h){return A.isCorrectAnswer(h)}).map(function(h){return Number(!h)}).reduce(function(h,P){return h+P},0):0;t.setAttribute("class","bottombar-button"),r.setAttribute("class","bottombar-button"),n.setAttribute("class","bottombar-button"),o.setAttribute("class","bottombar-button"),t.setAttribute("class","bottombar-button"),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(o),t.innerHTML="Total: ".concat(L,"/").concat(B),n.innerHTML="Correct: ".concat(E),r.innerHTML="Incorrect: ".concat(I),v(),o.onclick=function(){s=!s,v()},r.onclick=function(){d.emit(H.CLICK_INCORRECT)},n.onclick=function(){d.emit(H.CLICK_CORRECT)},t.onclick=function(){d.emit(H.CLICK_TOTAL)}}function v(){s?o.classList.add("timer-inactive"):o.classList.remove("timer-inactive")}function O(){_(),i=setInterval(l,1e3)}function w(y){e.innerHTML="",y&&O()}function _(){c=0,clearInterval(i)}function f(y,B){w(y),C(B!=null?B:A.activeContent)}function p(y){e.innerHTML="",f(!0,y)}function m(){f(),A.storeTime(c)}function b(){s&&(s=!1,v())}function u(){p(A.activeContent),c=A.getStorageTime().totalSeconds}}function Q(e){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ne(n.key),n)}}function Pe(e,t,r){return t&&Ht(e.prototype,t),r&&Ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ne(e){var t=ke(e,"string");return Q(t)==="symbol"?t:String(t)}function ke(e,t){if(Q(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xt=function(){function e(){var t=this;Ie(this,e),this.div=document.getElementById("popup"),this.closeBtn=document.createElement("button"),this.closeBtn.innerHTML="Close",this.closeBtn.setAttribute("class","popup-btn"),this.closeBtn.onclick=function(){t.close()}}return Pe(e,[{key:"open",value:function(){this.div.classList.add("popup-open"),document.body.classList.add("disable-scroll"),this.div.appendChild(this.closeBtn),d.emit(it.OPEN)}},{key:"close",value:function(){this.div.classList.remove("popup-open"),document.body.classList.remove("disable-scroll"),this.div.innerHTML="",d.emit(it.CLOSE)}}]),e}();function V(e){return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(e)}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Me(n.key),n)}}function xe(e,t,r){return t&&Mt(e.prototype,t),r&&Mt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Me(e){var t=Ve(e,"string");return V(t)==="symbol"?t:String(t)}function Ve(e,t){if(V(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(V(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ut(e,t)}function ut(e,t){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ut(e,t)}function je(e){var t=Qe();return function(){var n=G(e),o;if(t){var i=G(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return We(this,o)}}function We(e,t){if(t&&(V(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function Vt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G(e)}var Rt=function(e){Re(r,e);var t=je(r);function r(){var n;return He(this,r),n=t.call(this),n.screen=document.createElement("div"),n.screen.setAttribute("class","history-popup-screen"),n.loadBtn=document.createElement("button"),n.loadBtn.innerHTML="Load",n.loadBtn.setAttribute("class","popup-btn"),n.loadBtn.onclick=function(){d.emit(N.LOAD),n.close()},d.on(N.OPEN,n.onOpenHistory.bind(Vt(n))),n}return xe(r,[{key:"onOpenHistory",value:function(){Object.keys(A.getActiveHistory()).length&&this.div.appendChild(this.loadBtn),this.open(),this.show()}},{key:"show",value:function(){this.div.appendChild(this.screen);var o=A.getActiveHistory();if(!Object.keys(o).length){this.screen.innerHTML="[ EMPTY ]";return}var i="\n			<table class='history-table'>\n			<tr class='history-tr'>\n				<th class='history-th'>Questions</th>\n				<th class='history-th'>Answers</th>\n				<th class='history-th'>Results</th>\n			</tr>\n		";for(var c in o){var s=A.isCorrectAnswer(c,!0),a=o[c];i+="\n				<tr>\n					<td class='history-td'>".concat(c,". </td>\n					<td class='history-td'>").concat(a,"</td>\n					<td class='history-td'>").concat(s?this.getCorrectIcon():this.getIncorrectIcon(),"</td>\n				</tr>\n			")}i+="</table>",this.screen.innerHTML=i}},{key:"getCorrectIcon",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="m9.55 18l-5.7-5.7l1.425-1.425L9.55 15.15l9.175-9.175L20.15 7.4Z"/></svg>'}},{key:"getIncorrectIcon",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6Z"/></svg>'}}]),r}(xt);function jt(){var e=document.getElementById("history-button");e.onclick=function(){d.emit(N.OPEN)}}window.onload=function(){new Rt,It(),kt(),Pt(),jt(),Nt()};})();
